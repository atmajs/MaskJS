UTest({
	'should evaluate script' () {
		var template = `
			script {
				window.foo = {
					// this refers to the window ctx
					isGlobal: this === window
				};
			}
		`;
		document.body.appendChild(mask.render(template));
		
		is_(window.foo, 'Object');
		eq_(window.foo.isGlobal, true);
	},
	'should serialize script node': {
		'single' () {
			var template = "section{script src='foo.js';}";
			var ast = mask.parse(template);
			var str = mask.stringify(ast);
			eq_(str, template);
		},
		'body' () {
			var template = "section{script type='text/mask'{ @@%any text }}";
			var ast = mask.parse(template);
			var str = mask.stringify(ast);
			eq_(str, template);
		}
	}
})