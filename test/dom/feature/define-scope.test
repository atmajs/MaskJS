// use default module loader
mask.config('modules', 'default');

UTest({
	'should create functions with scope for': {
		'... for variables' () {

			var template = `
				define Foo {
					var WIDTH = 10 / 2;

					function onRenderStart () {
						this.width = WIDTH;
					}
				}
			`;

			var Foo = mask.Compo.initialize('Foo');
			eq_(Foo.width, 5);
		},

		'!... for imports' (done) {
			var template = `
				import foo from '/test/tmpl/modules/data_foo.js';

				define Foo {
					
					function getFoo () {
						return foo;
					}
				}
			`;

			mask.define(template).done(() => {
				var Foo = mask.Compo.initialize('Foo');
				deepEq_(Foo.getFoo(), { name: 'Foo'});
			});

		}
	},
})