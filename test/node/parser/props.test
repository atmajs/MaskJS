UTest({
    'should parse properties' () {
        Mask.off('warn');
        Mask.on('warn', assert.avoid());
        Mask.off('error');
        Mask.on('error', assert.avoid());

        [
            `div [ style.baz ] = green;`,
            `div [style.baz ] = green`,
            `div [style.baz]='green'`,
            `div [      style.baz
            ]
                =
            'green'`
        ]
        .forEach(str => {
            var node = Mask.parse(str);        
            eq_(node.tagName, 'div');        
            deepEq_(node.props, { 'style.baz': 'green' });
            eq_(node.type, Mask.Dom.NODE);

            var back = Mask.stringify(node);
            eq_(back, `div [style.baz] = green;`);
        })        
    },
    'should parse properties and other attributes': {
        'parse class' () {
            var node = Mask.parse(`.foo [style.backgroundColor] = red;`);
            eq_(node.tagName, 'div');      
            deepEq_(node.props, { 'style.backgroundColor': 'red' });
            deepEq_(node.attr, { 'class': 'foo' });

            var back = Mask.stringify(node);
            eq_(back, `.foo [style.backgroundColor] = red;`);
        },
        'parse attribute' () {
            var node = Mask.parse(`.foo name='quux' [style.backgroundColor] = red;`);
            eq_(node.tagName, 'div');      
            deepEq_(node.props, { 'style.backgroundColor': 'red' });
            deepEq_(node.attr, { 'class': 'foo', 'name': 'quux' });

            var back = Mask.stringify(node);
            eq_(back, `.foo name=quux [style.backgroundColor] = red;`);
        }
    }
})